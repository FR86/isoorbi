[{"path":"https://isoorbi.isoverse.org/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 isoorbi authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":[]},{"path":"https://isoorbi.isoverse.org/articles/dual_inlet.html","id":"calculations","dir":"Articles","previous_headings":"Examples for block definitions","what":"Calculations","title":"Dual Inlet","text":"following code block contains functionality specific processing data dual inlet experiments","code":"# change a global setting orbi_set_settings(di_ref_name = \"my ref\")  # define blocks df_w_blocks <-   # general definition   orbi_define_blocks_for_dual_inlet(     df.simple,     ref_block_time.min = 10,     sample_block_time.min = 10,     startup_time.min = 5,     change_over_time.min = 2,     sample_block_name = \"sample\"   ) |>    # fine adjustments   orbi_adjust_block(block = 1, shift_start_time.min = 2) |>   orbi_adjust_block(block = 4, set_start_time.min = 38, set_end_time.min = 46) ## orbi_define_blocks_for_dual_inlet() identified 7 blocks (4 'my ref', 3 'sample') in data from 1 file(s) ## orbi_adjust_block() is making the following block adjustments in file 20230518_05_USGS32_vs_USGS34: ##  - moving block 1 start from scan 825 (5.01 min) to 1155 (7.02 min) ## orbi_adjust_block() is making the following block adjustments in file 20230518_05_USGS32_vs_USGS34: ##  - moving block 4 start from scan 6090 (37.02 min) to 6255 (38.02 min) ##  - moving block 4 end from scan 7400 (44.98 min) to 7565 (45.99 min) ##  - moving block 5 start to the new end of block 4 # get blocks info blocks_info <- df_w_blocks |> orbi_get_blocks_info() blocks_info |> knitr::kable()"},{"path":[]},{"path":"https://isoorbi.isoverse.org/articles/dual_inlet.html","id":"plot-1-signal-by-block","dir":"Articles","previous_headings":"Raw data plots","what":"Plot 1: signal by block","title":"Dual Inlet","text":"","code":"# visualization library(ggplot2) library(dplyr) ##  ## Attaching package: 'dplyr' ## The following objects are masked from 'package:stats': ##  ##     filter, lag ## The following objects are masked from 'package:base': ##  ##     intersect, setdiff, setequal, union df_w_blocks |>    filter(isotopocule == \"15N\") |>   # data   ggplot() +   aes(x = time.min, y = ions.incremental, group = data_group, color = data_type) +   geom_line() +   # scales   scale_fill_brewer(palette = \"Set1\") +   scale_x_continuous(breaks = scales::breaks_pretty(8), expand = c(0, 0)) +   theme_bw() +   labs(x = \"time [min]\", y = \"intensity\")"},{"path":"https://isoorbi.isoverse.org/articles/dual_inlet.html","id":"plot-2-highlight-blocks","dir":"Articles","previous_headings":"Raw data plots","what":"Plot 2: highlight blocks","title":"Dual Inlet","text":"","code":"ggplot() +   # blocks background   geom_rect(     data = blocks_info,     map = aes(       xmin = start_time.min,       xmax = end_time.min,       ymin = -Inf,       ymax = Inf,       # use sample name for data blocks, otherwise data type       fill = ifelse(data_type == \"data\", sample_name, data_type)     ), alpha = 0.5   ) +   # data   geom_line(     data = df_w_blocks |> filter(isotopocule == \"15N\"),     map = aes(x = time.min, y = ions.incremental, group = data_group)   ) +   # scales   scale_fill_brewer(palette = \"Set1\") +   scale_x_continuous(breaks = scales::breaks_pretty(8), expand = c(0, 0)) +   theme_bw() +   labs(x = \"time [min]\", y = \"intensity\", fill = \"block\")"},{"path":"https://isoorbi.isoverse.org/articles/dual_inlet.html","id":"ratio-data","dir":"Articles","previous_headings":"","what":"Ratio data","title":"Dual Inlet","text":"","code":"# calculate results df_results <-    df_w_blocks |>   # define base peak   orbi_define_basepeak(basepeak_def = \"M0\") |>    # segment (optional)   orbi_segment_blocks(into_segments = 3) |>   # calculate results   orbi_summarize_results(ratio_method = \"sum\") ## orbi_define_basepeak() is setting the 'M0' isotopocule as the ratio ##    denominator... ##    ...base peak set for 3 isotopocules ('15N', '17O', '18O') in 0.17 seconds. ## orbi_segment_blocks() segmented 7 data blocks in 1 file(s) into 3 segments / block (on average) with 88 scans / segment (on average) ## orbi_summarize_results() is grouping the data by 'filename', 'compound', ##    'basepeak', 'isotopocule', 'block', 'sample_name', 'segment', ##    'data_group', 'data_type' and summarizing ratios using the 'sum' method... ##    ...completed in 0.07 seconds."},{"path":"https://isoorbi.isoverse.org/articles/dual_inlet.html","id":"plot-1-ratios-by-block-and-segment","dir":"Articles","previous_headings":"Ratio data","what":"Plot 1: ratios by block and segment","title":"Dual Inlet","text":"","code":"library(forcats)  df_results |>   filter(data_type == \"data\") |>   mutate(block_seg = paste0(block, \".\", segment) |> fct_inorder()) |>   # data   ggplot() +   aes(x = block_seg, y = ratio, color = sample_name) +   geom_point(size = 2) +   facet_grid(isotopocule ~ ., scales = \"free_y\") +   # scales   scale_color_brewer(palette = \"Set1\") +   theme_bw() +   labs(x = \"block.segment\", y = \"ratio\")"},{"path":"https://isoorbi.isoverse.org/articles/dual_inlet.html","id":"plot-2-with-block-backgrounds-and-raw-data","dir":"Articles","previous_headings":"Ratio data","what":"Plot 2: with block backgrounds and raw data","title":"Dual Inlet","text":"","code":"# demonstrate use of a base plot base_plot <-   ggplot() +   # blocks background   geom_rect(     data = blocks_info,     map = aes(       xmin = start_time.min, xmax = end_time.min, ymin = -Inf, ymax = Inf,       fill = data_type     ), alpha = 0.5   ) +   # data   geom_point(     data = function(df) df |> filter(panel == \"ratio\"),     map = aes(x = mean_time.min, y = ratio, shape = sample_name),     size = 3   ) +   geom_line(     data = function(df) df |> filter(panel == \"intensity\"),     map = aes(x = time.min, y = ions.incremental)   ) +   facet_grid(panel ~ ., scales = \"free_y\") +   # scales   scale_fill_brewer(palette = \"Set1\") +   scale_x_continuous(breaks = scales::breaks_pretty(8), expand = c(0, 0)) +   theme_bw() +   labs(x = \"time [min]\", y = NULL, fill = \"block\")  # with 15N data df_plot <-   df_w_blocks |>   mutate(panel = \"intensity\") |>   bind_rows(df_results |> mutate(panel = \"ratio\"))  base_plot %+% filter(df_plot, isotopocule == \"15N\") + labs(title = \"15N/M0\") # same but with 18O base_plot %+% filter(df_plot, isotopocule == \"18O\") + labs(title = \"18O/M0\")"},{"path":"https://isoorbi.isoverse.org/articles/dual_inlet.html","id":"plot-3-small-scans","dir":"Articles","previous_headings":"Ratio data","what":"Plot 3: small scans","title":"Dual Inlet","text":"","code":"# calculate ratios segmented with 5 scans at a time df_ratios <-    df_w_blocks |>   # define base peak   orbi_define_basepeak(basepeak_def = \"M0\") |>    # segment (optional)   orbi_segment_blocks(by_scans = 5) |>   # calculate results   orbi_summarize_results(ratio_method = \"mean\") ## orbi_define_basepeak() is setting the 'M0' isotopocule as the ratio ##    denominator... ##    ...base peak set for 3 isotopocules ('15N', '17O', '18O') in 0.15 seconds. ## orbi_segment_blocks() segmented 7 data blocks in 1 file(s) into 53 segments / block (on average) with 5 scans / segment (on average) ## orbi_summarize_results() is grouping the data by 'filename', 'compound', ##    'basepeak', 'isotopocule', 'block', 'sample_name', 'segment', ##    'data_group', 'data_type' and summarizing ratios using the 'mean' ##    method... ##    ...completed in 0.55 seconds. ggplot() +   # blocks background   geom_rect(     data = blocks_info,     map = aes(       xmin = start_time.min, xmax = end_time.min, ymin = -Inf, ymax = Inf,       fill = data_type     ), alpha = 0.5   ) +   # data   geom_line(     data = df_ratios |> filter(data_type == \"data\", isotopocule == \"17O\"),     map = aes(x = mean_time.min, y = ratio, group = block)   ) +   # scales   scale_fill_brewer(palette = \"Set1\") +   scale_x_continuous(breaks = scales::breaks_pretty(8), expand = c(0, 0)) +   theme_bw() +   labs(x = \"time [min]\", y = \"ratio\", fill = \"block\")"},{"path":"https://isoorbi.isoverse.org/articles/isoxl_demo.html","id":"a-link-to-the-gui","dir":"Articles","previous_headings":"","what":"A link to the GUI","title":"IsoXL demo GUI","text":"isoorbi functionalities extended web-based graphical user interface (GUI) provides click-button access analyze data quality reduce .isox data summary table isotopocule ratios can downloaded spreadsheet. demo version GUI can found : https://isoorbi.shinyapps.io/IsoXL. screenshot IsoXL GUI.","code":""},{"path":"https://isoorbi.isoverse.org/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Caj Neubauer. Author, maintainer, copyright holder. Sebastian Kopf. Author. Kristýna Kantnerová. Author.","code":""},{"path":"https://isoorbi.isoverse.org/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kantnerova et al., review","code":"@Article{,   author = {Kristyna Kantnerova and Nils Kuhlbuch and Dieter Juchelka and Andreas Hilkert and Sebastian H. Kof and Cajetan Neubauer},   title = {ESI-Orbitrap IRMS: A Guide to Precision Isotopocule Analysis for Life and Environmental Scientists},   publisher = {Nature Publishing Group},   journal = {Nature Protocols},   year = {2023}, }"},{"path":[]},{"path":"https://isoorbi.isoverse.org/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Process Orbitrap Isotopocule Data","text":"goal isoorbi R package help process isotopocule measurements Orbitrap Isotope Solutions mass spectrometer. expects .isox files created IsoX input.","code":""},{"path":"https://isoorbi.isoverse.org/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Process Orbitrap Isotopocule Data","text":"","code":"# To install from CRAN install.packages(\"isoorbi\")"},{"path":"https://isoorbi.isoverse.org/index.html","id":"getting-started","dir":"","previous_headings":"","what":"Getting started","title":"Process Orbitrap Isotopocule Data","text":"","code":"library(isoorbi)  orbi_read_isox(file)"},{"path":"https://isoorbi.isoverse.org/index.html","id":"getting-help","dir":"","previous_headings":"","what":"Getting help","title":"Process Orbitrap Isotopocule Data","text":"encounter clear bug, please file issue minimal reproducible example GitHub. questions discussion, please use isoorbi slack workspace.","code":""},{"path":"https://isoorbi.isoverse.org/index.html","id":"development-version","dir":"","previous_headings":"","what":"Development version","title":"Process Orbitrap Isotopocule Data","text":"get bug fix use latest features, install development version isoorbi GitHub.","code":"# install the development version  install.packages(\"devtools\")  devtools::install_github(\"isoverse/isoorbi\")"},{"path":"https://isoorbi.isoverse.org/reference/add_excel_sheet.html","id":null,"dir":"Reference","previous_headings":"","what":"internal function to add an excel sheet to a workbook — add_excel_sheet","title":"internal function to add an excel sheet to a workbook — add_excel_sheet","text":"internal function add excel sheet workbook","code":""},{"path":"https://isoorbi.isoverse.org/reference/add_excel_sheet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"internal function to add an excel sheet to a workbook — add_excel_sheet","text":"","code":"add_excel_sheet(   wb,   sheet_name,   dataset,   dbl_digits = 2,   col_max_width = 75,   int_format = \"0\",   dbl_format = sprintf(sprintf(\"%%.%df\", dbl_digits), 0) )"},{"path":"https://isoorbi.isoverse.org/reference/add_excel_sheet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"internal function to add an excel sheet to a workbook — add_excel_sheet","text":"wb workbook object sheet_name name excel sheet dataset data frame(s) dbl_digits many digits show dbls (exported) col_max_width maximum column width int_format excel formatting style integers dbl_format excel formatting style doubles (created automatically dbl_digits parameter)","code":""},{"path":"https://isoorbi.isoverse.org/reference/calculate_ratios_gmean.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal function to calculate geometric mean — calculate_ratios_gmean","title":"Internal function to calculate geometric mean — calculate_ratios_gmean","text":"function calculate_ratios_gmean() used calculate geometric means","code":""},{"path":"https://isoorbi.isoverse.org/reference/calculate_ratios_gmean.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal function to calculate geometric mean — calculate_ratios_gmean","text":"","code":"calculate_ratios_gmean(ratios)"},{"path":"https://isoorbi.isoverse.org/reference/calculate_ratios_gmean.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal function to calculate geometric mean — calculate_ratios_gmean","text":"ratios numeric vector ratios used calculate geometric mean","code":""},{"path":"https://isoorbi.isoverse.org/reference/calculate_ratios_gmean.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Internal function to calculate geometric mean — calculate_ratios_gmean","text":"calculated geometric mean","code":""},{"path":"https://isoorbi.isoverse.org/reference/calculate_ratios_gsd.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal function to calculate standard deviation (geometric) — calculate_ratios_gsd","title":"Internal function to calculate standard deviation (geometric) — calculate_ratios_gsd","text":"function calculate_ratios_gsd() used calculate geometric standard deviations","code":""},{"path":"https://isoorbi.isoverse.org/reference/calculate_ratios_gsd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal function to calculate standard deviation (geometric) — calculate_ratios_gsd","text":"","code":"calculate_ratios_gsd(ratios)"},{"path":"https://isoorbi.isoverse.org/reference/calculate_ratios_gsd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal function to calculate standard deviation (geometric) — calculate_ratios_gsd","text":"ratios numeric values used calculate geometric standard deviation","code":""},{"path":"https://isoorbi.isoverse.org/reference/calculate_ratios_gsd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Internal function to calculate standard deviation (geometric) — calculate_ratios_gsd","text":"calculated geometric standard deviation","code":""},{"path":"https://isoorbi.isoverse.org/reference/calculate_ratios_sem.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal function to calculate standard error — calculate_ratios_sem","title":"Internal function to calculate standard error — calculate_ratios_sem","text":"function calculate_ratios_sem() computes regular standard error","code":""},{"path":"https://isoorbi.isoverse.org/reference/calculate_ratios_sem.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal function to calculate standard error — calculate_ratios_sem","text":"","code":"calculate_ratios_sem(ratios)"},{"path":"https://isoorbi.isoverse.org/reference/calculate_ratios_sem.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal function to calculate standard error — calculate_ratios_sem","text":"ratios numeric vector used calculate standard error","code":""},{"path":"https://isoorbi.isoverse.org/reference/calculate_ratios_sem.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Internal function to calculate standard error — calculate_ratios_sem","text":"calculated standard error","code":""},{"path":"https://isoorbi.isoverse.org/reference/calculate_ratios_slope.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal function for ratio_method slope — calculate_ratios_slope","title":"Internal function for ratio_method slope — calculate_ratios_slope","text":"function calculate_ratios_slope() used estimate slope x, y values used ratio","code":""},{"path":"https://isoorbi.isoverse.org/reference/calculate_ratios_slope.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal function for ratio_method slope — calculate_ratios_slope","text":"","code":"calculate_ratios_slope(x, y)"},{"path":"https://isoorbi.isoverse.org/reference/calculate_ratios_slope.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal function for ratio_method slope — calculate_ratios_slope","text":"x Vector values used ratio numerator y Vector values used ratio denominator","code":""},{"path":"https://isoorbi.isoverse.org/reference/calculate_ratios_slope.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Internal function for ratio_method slope — calculate_ratios_slope","text":"calculated slope, estimate ratio x/y","code":""},{"path":"https://isoorbi.isoverse.org/reference/calculate_ratios_slope.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Internal function for ratio_method slope — calculate_ratios_slope","text":"slope calculated linear regression model weighted numerator x, using stats::lm(x ~ y + 0, weights = x)","code":""},{"path":"https://isoorbi.isoverse.org/reference/calculate_ratios_weighted_sum.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal function for ratio_method weighted_sum — calculate_ratios_weighted_sum","title":"Internal function for ratio_method weighted_sum — calculate_ratios_weighted_sum","text":"function calculate_ratios_weighted_sum() used calculate ratios weighted sums x y values","code":""},{"path":"https://isoorbi.isoverse.org/reference/calculate_ratios_weighted_sum.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal function for ratio_method weighted_sum — calculate_ratios_weighted_sum","text":"","code":"calculate_ratios_weighted_sum(x, y)"},{"path":"https://isoorbi.isoverse.org/reference/calculate_ratios_weighted_sum.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal function for ratio_method weighted_sum — calculate_ratios_weighted_sum","text":"x vector values used ratio numerator y vector values used ratio denominator","code":""},{"path":"https://isoorbi.isoverse.org/reference/calculate_ratios_weighted_sum.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Internal function for ratio_method weighted_sum — calculate_ratios_weighted_sum","text":"calculated ratio x/y","code":""},{"path":"https://isoorbi.isoverse.org/reference/calculate_ratios_weighted_sum.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Internal function for ratio_method weighted_sum — calculate_ratios_weighted_sum","text":"weighing function ensures scan contributes equal weight ratio calculation, .e. scans ions Orbitrap contribute disproportionally total sum x y used calculate x/y.","code":""},{"path":"https://isoorbi.isoverse.org/reference/isoorbi-package.html","id":null,"dir":"Reference","previous_headings":"","what":"isoorbi: Process Orbitrap Isotopocule Data — isoorbi-package","title":"isoorbi: Process Orbitrap Isotopocule Data — isoorbi-package","text":"Read process isotopocule data Orbitrap Isotope Solutions mass spectrometer. Hilkert et al. (2021) doi:10.1021/acs.analchem.1c00944 .","code":""},{"path":[]},{"path":"https://isoorbi.isoverse.org/reference/isoorbi-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"isoorbi: Process Orbitrap Isotopocule Data — isoorbi-package","text":"Maintainer: Caj Neubauer caj.neubauer@colorado.edu (ORCID) [copyright holder] Authors: Sebastian Kopf sebastian.kopf@colorado.edu (ORCID) Kristýna Kantnerová kristyna.kantnerova@colorado.edu (ORCID)","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_adjust_block.html","id":null,"dir":"Reference","previous_headings":"","what":"Manually adjust block delimiters — orbi_adjust_block","title":"Manually adjust block delimiters — orbi_adjust_block","text":"Note adjusting blocks removes block segmentation. Make sure call orbi_segment_blocks() adjusting block delimiters. FIXME: complete description parameters","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_adjust_block.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Manually adjust block delimiters — orbi_adjust_block","text":"","code":"orbi_adjust_block(   dataset,   block,   filename = NULL,   shift_start_time.min = NULL,   shift_end_time.min = NULL,   shift_start_scan.no = NULL,   shift_end_scan.no = NULL,   set_start_time.min = NULL,   set_end_time.min = NULL,   set_start_scan.no = NULL,   set_end_scan.no = NULL )"},{"path":"https://isoorbi.isoverse.org/reference/orbi_adjust_block.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Manually adjust block delimiters — orbi_adjust_block","text":"dataset tibble produced orbi_define_blocks_for_dual_inlet() block block adjust start /end filename needs specified dataset one filename shift_start_time.min provided, start time block shifted many minutes (use negative numbers shift back) shift_end_time.min provided, end time block shifted many minutes (use negative numbers shift back) shift_start_scan.provided, start block shifted many scans (use negative numbers shift back) shift_end_scan.provided, end block shifted many scans (use negative numbers shift back) set_start_time.min provided, sets start time block close possible time set_end_time.min provided, sets end time block close possible time set_start_scan.provided, sets start block scan number (scan must exist dataset) set_end_scan.provided, sets end block scan number (scan must exist dataset)","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_adjust_block.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Manually adjust block delimiters — orbi_adjust_block","text":"data frame (tibble) block limits altered according provided start/end change parameters. data longer part original block marked value orbi_get_settings(\"data_type_unused\"). previously applied segmentation discarded (segment column set NA) avoid unintended side effects.","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_analyze_shot_noise.html","id":null,"dir":"Reference","previous_headings":"","what":"Shot noise calculation — orbi_analyze_shot_noise","title":"Shot noise calculation — orbi_analyze_shot_noise","text":"function computes shot noise calculation","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_analyze_shot_noise.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Shot noise calculation — orbi_analyze_shot_noise","text":"","code":"orbi_analyze_shot_noise(dataset)"},{"path":"https://isoorbi.isoverse.org/reference/orbi_analyze_shot_noise.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Shot noise calculation — orbi_analyze_shot_noise","text":"dataset data frame output running orbi_define_basepeak()","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_analyze_shot_noise.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Shot noise calculation — orbi_analyze_shot_noise","text":"processed data frame new columns: n_effective_ions, ratio, ratio_rel_se.permil, shot_noise.permil","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_analyze_shot_noise.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Shot noise calculation — orbi_analyze_shot_noise","text":"Analyze shot noise calculate combinations filename, compound, isotopocule provided dataset","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_calculate_ratios.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate direct isotopocule ratios — orbi_calculate_ratios","title":"Calculate direct isotopocule ratios — orbi_calculate_ratios","text":"function calculates isotopocule/base peak ratios isotopocules. summarize average ratios way. summarizing version function, see orbi_summarize_results().","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_calculate_ratios.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate direct isotopocule ratios — orbi_calculate_ratios","text":"","code":"orbi_calculate_ratios(dataset)"},{"path":"https://isoorbi.isoverse.org/reference/orbi_calculate_ratios.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate direct isotopocule ratios — orbi_calculate_ratios","text":"dataset data frame output running orbi_define_basepeak()","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_calculate_ratios.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate direct isotopocule ratios — orbi_calculate_ratios","text":"Returns mutated dataset ratio column added.","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_calculate_summarized_ratio.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate isotopocule ratio — orbi_calculate_summarized_ratio","title":"Calculate isotopocule ratio — orbi_calculate_summarized_ratio","text":"function calculates ratio two isotopocules (numerator denominator). function averages multiple measurements using ratio_method returns single value. Normally function called directly user, via function orbi_summarize_results(), calculates isotopocule ratios results entire dataset.","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_calculate_summarized_ratio.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate isotopocule ratio — orbi_calculate_summarized_ratio","text":"","code":"orbi_calculate_summarized_ratio(   numerator,   denominator,   ratio_method = c(\"direct\", \"mean\", \"sum\", \"median\", \"geometric_mean\", \"slope\",     \"weighted_sum\") )"},{"path":"https://isoorbi.isoverse.org/reference/orbi_calculate_summarized_ratio.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate isotopocule ratio — orbi_calculate_summarized_ratio","text":"numerator Column(s) used numerator; contains ion counts denominator Column used denominator; contains ion counts ratio_method Method computing ratio. Please note well: formula used calculate ion ratios matters! simply use arithmetic mean. best option may depend type data processing (e.g., MS1 versus M+1 fragmentation). ratio_method can one following: mean: arithmetic mean ratios individual scans. sum: sum ions numerator across scans divided sum ions observed denominator across scans. geometric_mean: geometric mean ratios individual scans. slope: ratio calculated using slope obtained linear regression model weighted numerator x, using stats::lm(x ~ y + 0, weights = x). weighted_sum: derivative sum option. weighing function ensures scan contributes equal weight ratio calculation, .e. scans ions Orbitrap contribute disproportionately total sum x y used calculate x/y.","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_calculate_summarized_ratio.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate isotopocule ratio — orbi_calculate_summarized_ratio","text":"Single value ratio isotopocules defined numerator denominator calculated using ratio_method.","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_calculate_summarized_ratio.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate isotopocule ratio — orbi_calculate_summarized_ratio","text":"","code":"df <-   system.file(\"extdata\", \"testfile_flow.isox\", package = \"isoorbi\") |>   orbi_read_isox() #> orbi_read_isox() is loading .isox data from 1 file(s)... #> - loaded 6449 peaks for 1 compounds (HSO4-) with 5 isotopocules (M0, 33S, #>    17O, 34S, 18O) from testfile_flow.isox in 0.24 seconds.  ions_18O <- dplyr::filter(df, isotopocule == \"18O\")$ions.incremental ions_M0 <- dplyr::filter(df, isotopocule == \"M0\")$ions.incremental  orbi_calculate_summarized_ratio(   numerator = ions_18O, denominator = ions_M0, ratio_method = \"sum\" ) #> [1] 0.01066211  orbi_calculate_summarized_ratio(   numerator = ions_18O, denominator = ions_M0, ratio_method = \"slope\" ) #> [1] 0.01071427"},{"path":"https://isoorbi.isoverse.org/reference/orbi_define_basepeak.html","id":null,"dir":"Reference","previous_headings":"","what":"Define the denominator for ratio calculation — orbi_define_basepeak","title":"Define the denominator for ratio calculation — orbi_define_basepeak","text":"orbi_define_basepeak() sets one isotopocule data frame base peak (ratio denominator)","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_define_basepeak.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Define the denominator for ratio calculation — orbi_define_basepeak","text":"","code":"orbi_define_basepeak(dataset, basepeak_def)"},{"path":"https://isoorbi.isoverse.org/reference/orbi_define_basepeak.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Define the denominator for ratio calculation — orbi_define_basepeak","text":"dataset tibble IsoX output. Needs contain columns filename, compound, scan., isotopocule, ions.incremental. basepeak_def isotopocule gets defined base peak, .e. denominator calculate ratios","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_define_basepeak.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Define the denominator for ratio calculation — orbi_define_basepeak","text":"Input data frame without rows basepeak isotopocule instead two new columns called basepeak basepeak_ions holding basepeak information","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_define_basepeak.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Define the denominator for ratio calculation — orbi_define_basepeak","text":"","code":"fpath <- system.file(\"extdata\", \"testfile_flow.isox\", package = \"isoorbi\") df <- orbi_read_isox(file = fpath) |>   orbi_simplify_isox() |>   orbi_define_basepeak(basepeak_def = \"M0\") #> orbi_read_isox() is loading .isox data from 1 file(s)... #> - loaded 6449 peaks for 1 compounds (HSO4-) with 5 isotopocules (M0, 33S, #>    17O, 34S, 18O) from testfile_flow.isox in 0.03 seconds. #> orbi_simplify_isox() will keep only columns 'filename', 'compound', #>    'scan.no', 'time.min', 'isotopocule', 'ions.incremental', 'tic', #>    'it.ms'... #>    ...complete in 0.01 seconds. #> orbi_define_basepeak() is setting the 'M0' isotopocule as the ratio #>    denominator... #>    ...base peak set for 4 isotopocules ('33S', '17O', '34S', '18O') in 0.09 #>    seconds."},{"path":"https://isoorbi.isoverse.org/reference/orbi_define_blocks_for_dual_inlet.html","id":null,"dir":"Reference","previous_headings":"","what":"Binning raw data into blocks for dual inlet analyses — orbi_define_blocks_for_dual_inlet","title":"Binning raw data into blocks for dual inlet analyses — orbi_define_blocks_for_dual_inlet","text":"Binning raw data blocks dual inlet analyses","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_define_blocks_for_dual_inlet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Binning raw data into blocks for dual inlet analyses — orbi_define_blocks_for_dual_inlet","text":"","code":"orbi_define_blocks_for_dual_inlet(   dataset,   ref_block_time.min,   change_over_time.min,   sample_block_time.min = ref_block_time.min,   startup_time.min = 0,   ref_block_name = setting(\"di_ref_name\"),   sample_block_name = setting(\"di_sample_name\") )"},{"path":"https://isoorbi.isoverse.org/reference/orbi_define_blocks_for_dual_inlet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Binning raw data into blocks for dual inlet analyses — orbi_define_blocks_for_dual_inlet","text":"dataset data frame tibble produced IsoX data orbi_simplify_isox() ref_block_time.min placeholder change_over_time.min placeholder sample_block_time.min placeholder startup_time.min placeholder ref_block_name placeholder sample_block_name placeholder","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_define_blocks_for_dual_inlet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Binning raw data into blocks for dual inlet analyses — orbi_define_blocks_for_dual_inlet","text":"data frame (tibble) block annotations form additional columns described : data_group integer numbers data group (whether startup, sample block, segment, etc.) file sequentially uniquely identify groups data belong together - columns static (.e. functions like orbi_adjust_block() orbi_segment_blocks() lead renumbering) used purely grouping purposes calculations visualization block integer counting data blocks file (0 startup block) sample_name name material measured defined ref_block_name sample_block_name parameters segment integer defines segments within individual blocks - NA optional orbi_segment_blocks() called data_type text value describing type data data_group - list main categories, call orbi_get_settings(\"data_type\")","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_export_data_to_excel.html","id":null,"dir":"Reference","previous_headings":"","what":"export data frame to excel — orbi_export_data_to_excel","title":"export data frame to excel — orbi_export_data_to_excel","text":"export data frame excel","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_export_data_to_excel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"export data frame to excel — orbi_export_data_to_excel","text":"","code":"orbi_export_data_to_excel(   dataset,   file,   dbl_digits = 2,   int_format = \"0\",   dbl_format = sprintf(sprintf(\"%%.%df\", dbl_digits), 0) )"},{"path":"https://isoorbi.isoverse.org/reference/orbi_export_data_to_excel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"export data frame to excel — orbi_export_data_to_excel","text":"dataset data frame file file path export file dbl_digits many digits show dbls (exported) int_format excel formatting style integers dbl_format excel formatting style doubles (created automatically dbl_digits parameter)","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_export_data_to_excel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"export data frame to excel — orbi_export_data_to_excel","text":"returns dataset invisibly use pipes","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_filter_flagged_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter out flagged data — orbi_filter_flagged_data","title":"Filter out flagged data — orbi_filter_flagged_data","text":"Filter flagged data","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_filter_flagged_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter out flagged data — orbi_filter_flagged_data","text":"","code":"orbi_filter_flagged_data(dataset)"},{"path":"https://isoorbi.isoverse.org/reference/orbi_filter_flagged_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter out flagged data — orbi_filter_flagged_data","text":"dataset tibble previously flagged data orbi_flat_satellite_peaks(), orbi_filter_weak_isotopocules(), /orbi_flag_outliers()","code":""},{"path":[]},{"path":"https://isoorbi.isoverse.org/reference/orbi_filter_isox.html","id":null,"dir":"Reference","previous_headings":"","what":"Basic generic filter for IsoX data — orbi_filter_isox","title":"Basic generic filter for IsoX data — orbi_filter_isox","text":"basic filter function orbi_filter_isox() file names, isotopocules, compounds time ranges. Default value parameters NULL, .e. filter applied.","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_filter_isox.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Basic generic filter for IsoX data — orbi_filter_isox","text":"","code":"orbi_filter_isox(   dataset,   filenames = NULL,   compounds = NULL,   isotopocules = NULL,   time_min = NULL,   time_max = NULL )"},{"path":"https://isoorbi.isoverse.org/reference/orbi_filter_isox.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Basic generic filter for IsoX data — orbi_filter_isox","text":"dataset IsoX data filtered filenames Vector file names keep, keeps set NULL (default) compounds Vector compounds keep, keeps set NULL (default) isotopocules Vector isotopocules keep, keeps set NULL (default) time_min Minimum retention time minutes (time.min), minimum set NULL (default) time_max Maximum retention time minutes (time.min), maximum set NULL (default)","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_filter_isox.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Basic generic filter for IsoX data — orbi_filter_isox","text":"Filtered tibble","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_filter_isox.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Basic generic filter for IsoX data — orbi_filter_isox","text":"","code":"fpath <- system.file(\"extdata\", \"testfile_flow.isox\", package = \"isoorbi\") df <-   orbi_read_isox(file = fpath) |>   orbi_simplify_isox() |>   orbi_filter_isox(     filenames = c(\"s3744\"),     compounds = \"HSO4-\",     isotopocules = c(\"M0\", \"34S\", \"18O\")   ) #> orbi_read_isox() is loading .isox data from 1 file(s)... #> - loaded 6449 peaks for 1 compounds (HSO4-) with 5 isotopocules (M0, 33S, #>    17O, 34S, 18O) from testfile_flow.isox in 0.03 seconds. #> orbi_simplify_isox() will keep only columns 'filename', 'compound', #>    'scan.no', 'time.min', 'isotopocule', 'ions.incremental', 'tic', #>    'it.ms'... #>    ...complete in 0.01 seconds. #> orbi_filter_isox() is filtering the dataset by filenames (s3744), compounds #>    (HSO4-), isotopocules (M0, 34S, 18O)... #>    ...removed 5159/6449 rows (80.0%) in 0.00 seconds."},{"path":"https://isoorbi.isoverse.org/reference/orbi_filter_satellite_peaks.html","id":null,"dir":"Reference","previous_headings":"","what":"Function replaced by orbi_flag_satellite_peaks() — orbi_filter_satellite_peaks","title":"Function replaced by orbi_flag_satellite_peaks() — orbi_filter_satellite_peaks","text":"Function replaced orbi_flag_satellite_peaks()","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_filter_satellite_peaks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function replaced by orbi_flag_satellite_peaks() — orbi_filter_satellite_peaks","text":"","code":"orbi_filter_satellite_peaks(...)"},{"path":"https://isoorbi.isoverse.org/reference/orbi_filter_satellite_peaks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function replaced by orbi_flag_satellite_peaks() — orbi_filter_satellite_peaks","text":"... parameters passed new function orbi_flag_satellite_peaks()","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_filter_scan_intensity.html","id":null,"dir":"Reference","previous_headings":"","what":"Function replaced by orbi_flag_outliers() — orbi_filter_scan_intensity","title":"Function replaced by orbi_flag_outliers() — orbi_filter_scan_intensity","text":"Function replaced orbi_flag_outliers()","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_filter_scan_intensity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function replaced by orbi_flag_outliers() — orbi_filter_scan_intensity","text":"","code":"orbi_filter_scan_intensity(..., outlier_percent)"},{"path":"https://isoorbi.isoverse.org/reference/orbi_filter_scan_intensity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function replaced by orbi_flag_outliers() — orbi_filter_scan_intensity","text":"... parameters passed new function orbi_flag_outliers() outlier_percent outlier_percent needs 0 10, flags extreme scans based TIC x injection time (.e., ion intensity)","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_filter_weak_isotopocules.html","id":null,"dir":"Reference","previous_headings":"","what":"Function replaced by orbi_flag_weak_isotopocules() — orbi_filter_weak_isotopocules","title":"Function replaced by orbi_flag_weak_isotopocules() — orbi_filter_weak_isotopocules","text":"Function replaced orbi_flag_weak_isotopocules()","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_filter_weak_isotopocules.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function replaced by orbi_flag_weak_isotopocules() — orbi_filter_weak_isotopocules","text":"","code":"orbi_filter_weak_isotopocules(...)"},{"path":"https://isoorbi.isoverse.org/reference/orbi_filter_weak_isotopocules.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function replaced by orbi_flag_weak_isotopocules() — orbi_filter_weak_isotopocules","text":"... parameters passed new function orbi_flag_weak_isotopocules()","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_find_isox.html","id":null,"dir":"Reference","previous_headings":"","what":"Find isox files — orbi_find_isox","title":"Find isox files — orbi_find_isox","text":"Finds .isox files folder.","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_find_isox.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find isox files — orbi_find_isox","text":"","code":"orbi_find_isox(folder, recursive = TRUE)"},{"path":"https://isoorbi.isoverse.org/reference/orbi_find_isox.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find isox files — orbi_find_isox","text":"folder path folder isox files recursive whether find files recursively","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_find_isox.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Find isox files — orbi_find_isox","text":"","code":"# all .isox files provided with the isoorbi package orbi_find_isox(system.file(\"extdata\", package = \"isoorbi\")) #> [1] \"/home/runner/work/_temp/Library/isoorbi/extdata/testfile_dual_inlet.isox\"     #> [2] \"/home/runner/work/_temp/Library/isoorbi/extdata/testfile_dual_inlet_new.isox\" #> [3] \"/home/runner/work/_temp/Library/isoorbi/extdata/testfile_flow.isox\""},{"path":"https://isoorbi.isoverse.org/reference/orbi_flag_outliers.html","id":null,"dir":"Reference","previous_headings":"","what":"Flag outlier scans — orbi_flag_outliers","title":"Flag outlier scans — orbi_flag_outliers","text":"function orbi_flag_outliers() flags outliers. Grouping columns filename compound.","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_flag_outliers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Flag outlier scans — orbi_flag_outliers","text":"","code":"orbi_flag_outliers(dataset, intensity_window)"},{"path":"https://isoorbi.isoverse.org/reference/orbi_flag_outliers.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Flag outlier scans — orbi_flag_outliers","text":"dataset Simplified IsoX dataset outliers flagged intensity_window flags extremely high low intense scans based TIC x injection time (.e., ion intensity). Provide vector 2 numbers c(x,y) filtering lowest x percent intensities highest y percent intensities.","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_flag_outliers.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Flag outlier scans — orbi_flag_outliers","text":"Filtered tibble","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_flag_outliers.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Flag outlier scans — orbi_flag_outliers","text":"Function intended flag scans outliers. TIC multiplied injection time serves estimate number ions Orbitrap. input dataset expected least 8 columns: filename, scan., time.min, compound, isotopocule, ions.incremental, tic, .ms.","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_flag_outliers.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Flag outlier scans — orbi_flag_outliers","text":"","code":"fpath <- system.file(\"extdata\", \"testfile_flow.isox\", package = \"isoorbi\") df <-   orbi_read_isox(file = fpath) |>   orbi_simplify_isox() |>   orbi_flag_outliers(intensity_window = c(1,99)) #> orbi_read_isox() is loading .isox data from 1 file(s)... #> - loaded 6449 peaks for 1 compounds (HSO4-) with 5 isotopocules (M0, 33S, #>    17O, 34S, 18O) from testfile_flow.isox in 0.03 seconds. #> orbi_simplify_isox() will keep only columns 'filename', 'compound', #>    'scan.no', 'time.min', 'isotopocule', 'ions.incremental', 'tic', #>    'it.ms'... #>    ...complete in 0.01 seconds. #> orbi_filter_scan_intensity() is flagging the 1 % of scans with the lowest and #>    above 99 % of scans with the highest intensities in 3 data group(s) (based #>    on 'filename')... #>    ...flagged 30/1290 scans (2.3%) across all data groups in 0.07 seconds."},{"path":"https://isoorbi.isoverse.org/reference/orbi_flag_satellite_peaks.html","id":null,"dir":"Reference","previous_headings":"","what":"Flag minor satellite peaks — orbi_flag_satellite_peaks","title":"Flag minor satellite peaks — orbi_flag_satellite_peaks","text":"Flag minor signals (e.g., satellite peaks) reported IsoX (filter orbi_filter_flagged_data()).","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_flag_satellite_peaks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Flag minor satellite peaks — orbi_flag_satellite_peaks","text":"","code":"orbi_flag_satellite_peaks(dataset)"},{"path":"https://isoorbi.isoverse.org/reference/orbi_flag_satellite_peaks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Flag minor satellite peaks — orbi_flag_satellite_peaks","text":"dataset data frame tibble produced IsoX data orbi_simplify_isox()","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_flag_satellite_peaks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Flag minor satellite peaks — orbi_flag_satellite_peaks","text":"data frame new column is_satellite_peak flags satellite peaks.","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_flag_satellite_peaks.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Flag minor satellite peaks — orbi_flag_satellite_peaks","text":"orbi_filter_satellite_peaks() function removes minor signals isotopocule reported IsoX. often small satellite peaks generated Fourier transform. signal high intensity many signals, can indicate m/z tolerance setting used processing .raw files IsoX incorrect.","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_flag_satellite_peaks.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Flag minor satellite peaks — orbi_flag_satellite_peaks","text":"","code":"fpath <- system.file(\"extdata\", \"testfile_flow.isox\", package = \"isoorbi\") df <-   orbi_read_isox(file = fpath) |>   orbi_simplify_isox() |>   orbi_flag_satellite_peaks() #> orbi_read_isox() is loading .isox data from 1 file(s)... #> - loaded 6449 peaks for 1 compounds (HSO4-) with 5 isotopocules (M0, 33S, #>    17O, 34S, 18O) from testfile_flow.isox in 0.03 seconds. #> orbi_simplify_isox() will keep only columns 'filename', 'compound', #>    'scan.no', 'time.min', 'isotopocule', 'ions.incremental', 'tic', #>    'it.ms'... #>    ...complete in 0.01 seconds. #> orbi_flag_satellite_peaks() is flagging minor signals (satellite peaks)... #>    ...flagged 0/6449 as satellite peaks (0.0%) in 0.27 seconds."},{"path":"https://isoorbi.isoverse.org/reference/orbi_flag_weak_isotopocules.html","id":null,"dir":"Reference","previous_headings":"","what":"Flag weak isotopocules — orbi_flag_weak_isotopocules","title":"Flag weak isotopocules — orbi_flag_weak_isotopocules","text":"function orbi_filter_weak_isotopocules() flags isotopocules consistently detected scans","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_flag_weak_isotopocules.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Flag weak isotopocules — orbi_flag_weak_isotopocules","text":"","code":"orbi_flag_weak_isotopocules(dataset, min_percent)"},{"path":"https://isoorbi.isoverse.org/reference/orbi_flag_weak_isotopocules.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Flag weak isotopocules — orbi_flag_weak_isotopocules","text":"dataset simplified IsoX data frame processed min_percent number 0 90. Isotopocule must observed least percentage scans (please note: percentage defined relative commonly observed isotopocule compound)","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_flag_weak_isotopocules.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Flag weak isotopocules — orbi_flag_weak_isotopocules","text":"data frame new column is_weak_isotopocule flags satellite peaks.","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_flag_weak_isotopocules.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Flag weak isotopocules — orbi_flag_weak_isotopocules","text":"input dataset expected least 8 columns: filename, scan., time.min, compound, isotopocule, ions.incremental, tic, .ms.","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_flag_weak_isotopocules.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Flag weak isotopocules — orbi_flag_weak_isotopocules","text":"","code":"fpath <- system.file(\"extdata\", \"testfile_flow.isox\", package = \"isoorbi\") df <- orbi_read_isox(file = fpath) |>       orbi_simplify_isox() |>       orbi_flag_weak_isotopocules(min_percent = 2) #> orbi_read_isox() is loading .isox data from 1 file(s)... #> - loaded 6449 peaks for 1 compounds (HSO4-) with 5 isotopocules (M0, 33S, #>    17O, 34S, 18O) from testfile_flow.isox in 0.02 seconds. #> orbi_simplify_isox() will keep only columns 'filename', 'compound', #>    'scan.no', 'time.min', 'isotopocule', 'ions.incremental', 'tic', #>    'it.ms'... #>    ...complete in 0.01 seconds. #> orbi_filter_weak_isotopocules() is flagging isotopocules from data that are #>    detected in less than 2% of scans in 3 data group(s) (based on #>    'filename')... #>    ...flagged 0/15 isotopocules across all data groups in 0.05 seconds."},{"path":"https://isoorbi.isoverse.org/reference/orbi_get_blocks_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarize blocks info — orbi_get_blocks_info","title":"Summarize blocks info — orbi_get_blocks_info","text":"FIXME: fully document","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_get_blocks_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarize blocks info — orbi_get_blocks_info","text":"","code":"orbi_get_blocks_info(dataset)"},{"path":"https://isoorbi.isoverse.org/reference/orbi_get_blocks_info.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarize blocks info — orbi_get_blocks_info","text":"dataset tibble produced orbi_define_blocks_for_dual_inlet()","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_get_settings.html","id":null,"dir":"Reference","previous_headings":"","what":"Get all isoorbi package settings — orbi_get_settings","title":"Get all isoorbi package settings — orbi_get_settings","text":"Get isoorbi package settings","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_get_settings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get all isoorbi package settings — orbi_get_settings","text":"","code":"orbi_get_settings(pattern = NULL)"},{"path":"https://isoorbi.isoverse.org/reference/orbi_get_settings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get all isoorbi package settings — orbi_get_settings","text":"pattern optional parameter regular expression pattern sub-select returned settings","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_get_settings.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get all isoorbi package settings — orbi_get_settings","text":"list package settings values","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_get_settings.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get all isoorbi package settings — orbi_get_settings","text":"","code":"orbi_get_settings() #> $data_type_changeover #> [1] \"changeover\" #>  #> $data_type_data #> [1] \"data\" #>  #> $data_type_startup #> [1] \"startup\" #>  #> $data_type_unused #> [1] \"unused\" #>  #> $di_ref_name #> [1] \"ref\" #>  #> $di_sample_name #> [1] \"sam\" #>"},{"path":"https://isoorbi.isoverse.org/reference/orbi_plot_shot_noise.html","id":null,"dir":"Reference","previous_headings":"","what":"plot shot noise — orbi_plot_shot_noise","title":"plot shot noise — orbi_plot_shot_noise","text":"plot shot noise","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_plot_shot_noise.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"plot shot noise — orbi_plot_shot_noise","text":"","code":"orbi_plot_shot_noise(   shotnoise,   x = c(\"time.min\", \"n_effective_ions\"),   permil_target = NA_real_,   color = \"ratio_label\",   colors = c(\"#1B9E77\", \"#D95F02\", \"#7570B3\", \"#E7298A\", \"#66A61E\", \"#E6AB02\", \"#A6761D\",     \"#666666\") )"},{"path":"https://isoorbi.isoverse.org/reference/orbi_plot_shot_noise.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"plot shot noise — orbi_plot_shot_noise","text":"shotnoise shotnoise data frame x x-axis shot noise plot, either \"time.min\" \"n_effective_ions\" permil_target highlight t color column use color aesthetic (must factor) colors colors use, default color-blind friendly color palettes (RColorBrewer, dark2)","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_read_isox.html","id":null,"dir":"Reference","previous_headings":"","what":"Read IsoX file — orbi_read_isox","title":"Read IsoX file — orbi_read_isox","text":"Read IsoX output file (.isox) tibble data frame","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_read_isox.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read IsoX file — orbi_read_isox","text":"","code":"orbi_read_isox(file)"},{"path":"https://isoorbi.isoverse.org/reference/orbi_read_isox.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read IsoX file — orbi_read_isox","text":"file Path .isox file(s), single value vector paths","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_read_isox.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read IsoX file — orbi_read_isox","text":"tibble containing minimum columns filename, scan., time.min, compound, isotopocule, ions.incremental, tic, .ms","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_read_isox.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Read IsoX file — orbi_read_isox","text":"Additional information columns: filename: name original Thermo .raw file processed IsoX scan.: scan number time.min: acquisition retention time minutes compound: name compound (e.g., NO3-) isotopocule: name isotopocule (e.g., 15N); called isotopolog .isox ions.incremental: estimated number ions, increments since calculated number tic: total ion current (TIC) scan .ms: scan injection time () millisecond (ms)","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_read_isox.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read IsoX file — orbi_read_isox","text":"","code":"fpath <- system.file(\"extdata\", \"testfile_dual_inlet.isox\", package = \"isoorbi\") df <- orbi_read_isox(file = fpath) #> orbi_read_isox() is loading .isox data from 1 file(s)... #> - loaded 5184 peaks for 1 compounds (NO3-) with 6 isotopocules (15N, 17O, #>    18O, 15N18O, 17O18O, 18O18O) from testfile_dual_inlet.isox in 0.01 #>    seconds."},{"path":"https://isoorbi.isoverse.org/reference/orbi_segment_blocks.html","id":null,"dir":"Reference","previous_headings":"","what":"Segment data blocks — orbi_segment_blocks","title":"Segment data blocks — orbi_segment_blocks","text":"step optional intended make easy explore data within sample ref data block. Note raw data identified data_type set \"data\" (orbi_get_settings(\"data_type\")) stay unsegmented. includes raw data flagged \"startup\", \"changeover\", \"unused\".","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_segment_blocks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Segment data blocks — orbi_segment_blocks","text":"","code":"orbi_segment_blocks(   dataset,   into_segments = NULL,   by_scans = NULL,   by_time_interval = NULL )"},{"path":"https://isoorbi.isoverse.org/reference/orbi_segment_blocks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Segment data blocks — orbi_segment_blocks","text":"dataset tibble produced orbi_define_blocks_for_dual_inlet() into_segments segment data block many segments. result exactly number segments data block except segments requested observations group (case observation one segment) by_scans segment data block segments spanning number scans. result approximately requested number scans per segment, depending sensible distribution data. example, hypothetical data block 31 scans, by_scans = 10, function create 3 segments 11, 10 10 scans (evenly distributed), instead 4 segments 10, 10, 10, 1 (less evenly distributed). by_time_interval segment data block segments spanning time interval. result requested time interval segments except usually last one almost always shorter requested interval.","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_set_settings.html","id":null,"dir":"Reference","previous_headings":"","what":"Set package settings — orbi_set_settings","title":"Set package settings — orbi_set_settings","text":"Use function change default package settings. calling function, specify settings want change, everything else remain unchanged. default value parameter package uses default setting.","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_set_settings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set package settings — orbi_set_settings","text":"","code":"orbi_set_settings(   di_ref_name = \"ref\",   di_sample_name = \"sam\",   data_type_data = \"data\",   data_type_startup = \"startup\",   data_type_changeover = \"changeover\",   data_type_unused = \"unused\",   reset_all = FALSE )"},{"path":"https://isoorbi.isoverse.org/reference/orbi_set_settings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set package settings — orbi_set_settings","text":"di_ref_name text label dual inlet reference blocks di_sample_name text label dual inlet sample blocks data_type_data text used flag raw data actually data data_type_startup text used flag raw data part startup data_type_changeover text used flag raw data part changeover data_type_unused text used flag raw data unused reset_all set TRUE, reset settings back defaults","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_set_settings.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set package settings — orbi_set_settings","text":"invisible list settings (see orbi_get_settings())","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_set_settings.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Set package settings — orbi_set_settings","text":"FIXME: needs documentation completion FIXME: needs tests change settings get value back","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_simplify_isox.html","id":null,"dir":"Reference","previous_headings":"","what":"Simplify IsoX data — orbi_simplify_isox","title":"Simplify IsoX data — orbi_simplify_isox","text":"Keep columns directly relevant isotopocule ratio analysis","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_simplify_isox.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simplify IsoX data — orbi_simplify_isox","text":"","code":"orbi_simplify_isox(dataset)"},{"path":"https://isoorbi.isoverse.org/reference/orbi_simplify_isox.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simplify IsoX data — orbi_simplify_isox","text":"dataset IsoX data simplified","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_simplify_isox.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simplify IsoX data — orbi_simplify_isox","text":"tibble containing 8 columns: filename, scan., time.min, compound, isotopocule, ions.incremental, tic, .ms.","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_simplify_isox.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simplify IsoX data — orbi_simplify_isox","text":"","code":"fpath <- system.file(\"extdata\", \"testfile_flow.isox\", package=\"isoorbi\") df <- orbi_read_isox(file = fpath) |> orbi_simplify_isox() #> orbi_read_isox() is loading .isox data from 1 file(s)... #> - loaded 6449 peaks for 1 compounds (HSO4-) with 5 isotopocules (M0, 33S, #>    17O, 34S, 18O) from testfile_flow.isox in 0.02 seconds. #> orbi_simplify_isox() will keep only columns 'filename', 'compound', #>    'scan.no', 'time.min', 'isotopocule', 'ions.incremental', 'tic', #>    'it.ms'... #>    ...complete in 0.01 seconds."},{"path":"https://isoorbi.isoverse.org/reference/orbi_summarize_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate the results table — orbi_summarize_results","title":"Generate the results table — orbi_summarize_results","text":"Contains logic generate results table. passes  ratio_method parameter orbi_calculate_summarized_ratio() function ratio calculations.","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_summarize_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate the results table — orbi_summarize_results","text":"","code":"orbi_summarize_results(   dataset,   ratio_method = c(\"mean\", \"sum\", \"median\", \"geometric_mean\", \"slope\", \"weighted_sum\"),   .by = c(\"block\", \"sample_name\", \"segment\", \"data_group\", \"data_type\", \"injection\") )"},{"path":"https://isoorbi.isoverse.org/reference/orbi_summarize_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate the results table — orbi_summarize_results","text":"dataset tibble IsoX output (orbi_read_isox()) basepeak already defined (using orbi_define_basepeak()). Optionally, block definitions (orbi_define_blocks_for_dual_inlet()) even additional block segments (orbi_segment_blocks()). ratio_method Method computing ratio. Please note well: formula used calculate ion ratios matters! simply use arithmetic mean. best option may depend type data processing (e.g., MS1 versus M+1 fragmentation). ratio_method can one following: mean: arithmetic mean ratios individual scans. sum: sum ions numerator across scans divided sum ions observed denominator across scans. geometric_mean: geometric mean ratios individual scans. slope: ratio calculated using slope obtained linear regression model weighted numerator x, using stats::lm(x ~ y + 0, weights = x). weighted_sum: derivative sum option. weighing function ensures scan contributes equal weight ratio calculation, .e. scans ions Orbitrap contribute disproportionately total sum x y used calculate x/y. .additional grouping columns results summary (akin dplyr's .parameter e.g. dplyr::summarize()). set user, columns parameter's default values used, present dataset. Note order also used arrange summary.","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_summarize_results.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate the results table — orbi_summarize_results","text":"Returns results summary table retaining columns filename, compound, isotopocule basepeak well grouping columns .parameter part input dataset. Additionally function adds following results columns:  ratio, ratio_sem, ratio_relative_sem_permil, shot_noise_permil, ..Scans, minutes_to_1e6_ions ratio: isotope ratio isotopocule basepeak, calculated using ratio_method ratio_sem: Standard error mean ratio number_of_scans: Number scans used final ratio calculation minutes_to_1e6_ions: Time minutes take observe 1 million ions isotopocule used numerator ratio calculation. shot_noise_permil: Estimate shot noise (correctly thermal noise) reported ratio permil. ratio_relative_sem_permil: Relative standard error reported ratio permil","code":""},{"path":"https://isoorbi.isoverse.org/reference/orbi_summarize_results.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate the results table — orbi_summarize_results","text":"","code":"fpath <- system.file(\"extdata\", \"testfile_flow.isox\", package = \"isoorbi\") df <- orbi_read_isox(file = fpath) |>       orbi_simplify_isox() |>       orbi_define_basepeak(\"M0\")  |>       orbi_summarize_results(ratio_method = \"sum\") #> orbi_read_isox() is loading .isox data from 1 file(s)... #> - loaded 6449 peaks for 1 compounds (HSO4-) with 5 isotopocules (M0, 33S, #>    17O, 34S, 18O) from testfile_flow.isox in 0.02 seconds. #> orbi_simplify_isox() will keep only columns 'filename', 'compound', #>    'scan.no', 'time.min', 'isotopocule', 'ions.incremental', 'tic', #>    'it.ms'... #>    ...complete in 0.01 seconds. #> orbi_define_basepeak() is setting the 'M0' isotopocule as the ratio #>    denominator... #>    ...base peak set for 4 isotopocules ('33S', '17O', '34S', '18O') in 0.08 #>    seconds. #> orbi_summarize_results() is grouping the data by 'filename', 'compound', #>    'basepeak', 'isotopocule' and summarizing ratios using the 'sum' method... #>    ...completed in 0.04 seconds."},{"path":"https://isoorbi.isoverse.org/news/index.html","id":"isoorbi-120","dir":"Changelog","previous_headings":"","what":"isoorbi 1.2.0","title":"isoorbi 1.2.0","text":"minor release adding new features.","code":""},{"path":"https://isoorbi.isoverse.org/news/index.html","id":"breaking-changes-1-2-0","dir":"Changelog","previous_headings":"","what":"Breaking changes","title":"isoorbi 1.2.0","text":"breaking changes release (changes new features backwards compatible).","code":""},{"path":"https://isoorbi.isoverse.org/news/index.html","id":"new-features-1-2-0","dir":"Changelog","previous_headings":"","what":"New features","title":"isoorbi 1.2.0","text":"orbi_find_isox() added orbi_analyze_noise() implemented orbi_plot_shot_noise() implemented orbi_flag_satellite_peaks(), orbi_flag_weak_isotopocules() orbi_flag_outliers() together orbi_filter_flagged_data() supersede orbi_filter_satellite_peaks(), orbi_filter_weak_isotopocules() orbi_filter_scan_intensity() orbi_export_data_to_excel() implemented","code":""},{"path":"https://isoorbi.isoverse.org/news/index.html","id":"enhancements-1-2-0","dir":"Changelog","previous_headings":"","what":"Enhancements","title":"isoorbi 1.2.0","text":"loading utility functions provide details info message done, affected, long took loading utility functions catch processing errors report information back user orbi_read_isox() now can read multiple .isox files ","code":""},{"path":"https://isoorbi.isoverse.org/news/index.html","id":"bug-fixes-1-2-0","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"isoorbi 1.2.0","text":"data frame groupings introduced flagging/filtering functions now removed end function","code":""},{"path":"https://isoorbi.isoverse.org/news/index.html","id":"isoorbi-110","dir":"Changelog","previous_headings":"","what":"isoorbi 1.1.0","title":"isoorbi 1.1.0","text":"CRAN release: 2023-06-24 minor release adding new features fixing bugs.","code":""},{"path":"https://isoorbi.isoverse.org/news/index.html","id":"breaking-changes-1-1-0","dir":"Changelog","previous_headings":"","what":"Breaking changes","title":"isoorbi 1.1.0","text":"breaking changes release (changes new features backwards compatible).","code":""},{"path":"https://isoorbi.isoverse.org/news/index.html","id":"new-features-1-1-0","dir":"Changelog","previous_headings":"","what":"New features","title":"isoorbi 1.1.0","text":"implemented functionality dual inlet data acquisitions, see orbi_define_blocks_for_dual_inlet() orbi_get_blocks_info() implemented package settings, using internal functions isoorbi::orbi_get_settings, isoorbi::orbi_set_settings","code":""},{"path":"https://isoorbi.isoverse.org/news/index.html","id":"enhancements-1-1-0","dir":"Changelog","previous_headings":"","what":"Enhancements","title":"isoorbi 1.1.0","text":"removed dependency stringr implemented native pipe |> (R version requirement increased 4.1.0) removed dependency magrittr added .parameter orbi_summarize_results() option manually adjust grouping","code":""},{"path":"https://isoorbi.isoverse.org/news/index.html","id":"bug-fixes-1-1-0","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"isoorbi 1.1.0","text":"dplyr changes joins explicit multiple argument. multiple now defaults “”, options “error” “warning” now deprecated favor using relationship.","code":""}]
